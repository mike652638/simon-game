<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>我爱记音符--郑常龙</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="https://www.mike652638.com/wp-content/uploads/2017/02/2017020715053649.png" />
    <base href="https://www.mike652638.com/projects/simon/">
    <link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
    <style type="text/css">
    body {
        background-color: #e9d3b3;
    }
    
    .main {
        position: relative;
        z-index: 1;
        overflow: hidden;
        width: 100%;
        margin-top: 1em;
        border-radius: 50%;
        background-color: #333;
        -webkit-filter: drop-shadow(5px 5px 10px black);
        filter: drop-shadow(5px 5px 10px black);
    }
    
    .ctrl {
        position: absolute;
        top: 25%;
        left: 25%;
        overflow: hidden;
        width: 50%;
        opacity: 0;
        border-radius: 50%;
        background-color: #ece7ee;
        -webkit-filter: drop-shadow(5px 5px 10px #000);
        -moz-filter: drop-shadow(5px 5px 10px #000);
        -ms-filter: drop-shadow(5px 5px 10px #000);
        -o-filter: drop-shadow(5px 5px 10px #000);
        filter: drop-shadow(5px 5px 10px #000);
    }
    
    .screen {
        position: absolute;
        top: 36%;
        left: 0;
        width: 100%;
        height: 30%;
        padding-top: 8%;
        text-align: center;
        color: white;
        border-radius: 5%;
        background-color: rgba(52, 73, 94, .6);
        -webkit-filter: drop-shadow(2px 3px 5px #000);
        -moz-filter: drop-shadow(2px 3px 5px #000);
        -ms-filter: drop-shadow(2px 3px 5px #000);
        -o-filter: drop-shadow(2px 3px 5px #000);
        filter: drop-shadow(2px 3px 5px #000);
    }
    
    .msgBox {
        font-family: 'Georgia', 'Lucida Calligraphy', 'Sans Serif';
        font-weight: 600;
        display: block;
        color: #33c5c5;
        text-shadow: 2px 2px 5px #000;
    }
    
    .showGameLvl {
        display: none;
        margin-top: 16%;
        color: black;
    }
    
    .showGameLvl span {
        font-weight: 600;
        color: red;
    }
    
    .showBtnTip {
        color: #E30278;
        font-size: 0.7em;
        margin-top: 1.6em;
    }
    
    .pianoSnd {
        display: none;
        margin-top: 1em;
        text-align: center;
    }
    
    .iptPannel {
        margin-top: .6em;
        padding: 0 10px;
        text-align: center;
    }
    
    .ipt {
        width: 16em;
        text-align: center;
    }
    
    .iptBtn {
        width: 5em;
        margin: .2em 0;
    }
    
    .footer {
        font-size: 1em;
        padding-top: 1em;
        text-align: center;
    }
    
    .footer a {
        text-decoration: none;
    }
    
    .dvcTip {
        display: none;
        text-align: center;
    }
    
    #clsTip {
        font-size: 1.2em;
        cursor: pointer;
        color: #e30278;
    }
    
    #userDvc {
        font-weight: bold;
        color: #e30278;
    }
    
    .tipsForIE9 {
        display: none;
        width: 100%;
        margin: 50px auto;
    }
    
    .tipsForIE9 p {
        font-size: 1.2em;
        margin: 20px;
        text-align: center;
    }
    /*** CSS扇形导航
参考http://codepen.io/felipemendez/pen/ehqGD?editors=1100 ***/
    
    .fans {
        position: absolute;
        top: -10%;
        left: -20%;
        width: 60%;
        list-style-type: none;
    }
    
    .fans li {
        font-size: 200%;
        font-weight: 900;
        position: absolute;
        z-index: -100;
        width: 100%;
        padding-top: 70%;
        padding-left: 20%;
        cursor: pointer;
        -webkit-transform-origin: 100% 100%;
        transform-origin: 100% 100%;
        text-align: center;
        color: #fff;
        -webkit-filter: drop-shadow(2px 2px 3px #000);
        -moz-filter: drop-shadow(2px 2px 3px #000);
        -ms-filter: drop-shadow(2px 2px 3px #000);
        -o-filter: drop-shadow(2px 2px 3px #000);
        filter: drop-shadow(2px 2px 3px #000);
    }
    /*媒体查询修复BS布局下扇形区圆心偏移问题*/
    
    @media screen and (max-width:330px) {
        .fans li {
            padding-top: 94%;
        }
    }
    
    @media screen and (max-width:360px) {
        .fans li {
            font-size: 150%;
        }
    }
    
    @media screen and (max-width:499px) {
        .onoffswitch {
            left: 30% !important;
        }
    }
    
    @media screen and (max-width:499px) {
        .fans {
            left: -22%;
        }
        .fans li {
            padding-left: 30%;
        }
    }
    
    @media screen and (min-width:500px) and (max-width:599px) {
        .fans {
            left: -20%;
        }
    }
    
    @media screen and (min-width:600px) and (max-width:699px) {
        .fans {
            left: -18%;
        }
    }
    
    @media screen and (min-width:700px) and (max-width:799px) {
        .fans {
            left: -18%;
        }
        .fans li {
            padding-left: 36%;
        }
    }
    
    @media screen and (min-width:800px) and (max-width:1199px) {
        .fans {
            left: -20%;
        }
        .fans li {
            padding-left: 36%;
        }
    }
    
    @media screen and (min-width:1200px) {
        .fans {
            left: -18%;
        }
        .fans li {
            padding-left: 36%;
            padding-top: 72%;
        }
    }
    
    .fans span {
        display: block;
        -webkit-transform: rotate(-45deg) skew(-135deg);
        -moz-transform: rotate(-45deg) skew(-135deg);
        -ms-transform: rotate(-45deg) skew(-135deg);
        -o-transform: rotate(-45deg) skew(-135deg);
        transform: rotate(-45deg) skew(-135deg);
    }
    
    .fans li:nth-child(1) {
        -webkit-transform: rotate(0deg) skew(50deg);
        -moz-transform: rotate(0deg) skew(50deg);
        -ms-transform: rotate(0deg) skew(50deg);
        -o-transform: rotate(0deg) skew(50deg);
        transform: rotate(0deg) skew(50deg);
        -webkit-animation: open-sombra-7 1s 1;
        -moz-animation: open-sombra-7 1s 1;
        -ms-animation: open-sombra-7 1s 1;
        -o-animation: open-sombra-7 1s 1;
        animation: open-sombra-7 1s 1;
        background-color: #1387ce;
    }
    
    .fans li:nth-child(2) {
        -webkit-transform: rotate(45deg) skew(50deg);
        -moz-transform: rotate(45deg) skew(50deg);
        -ms-transform: rotate(45deg) skew(50deg);
        -o-transform: rotate(45deg) skew(50deg);
        transform: rotate(45deg) skew(50deg);
        -webkit-animation: open-sombra-8 1s 1;
        -moz-animation: open-sombra-8 1s 1;
        -ms-animation: open-sombra-8 1s 1;
        -o-animation: open-sombra-8 1s 1;
        animation: open-sombra-8 1s 1;
        background-color: #418576;
    }
    
    .fans li:nth-child(3) {
        -webkit-transform: rotate(90deg) skew(50deg);
        -moz-transform: rotate(90deg) skew(50deg);
        -ms-transform: rotate(90deg) skew(50deg);
        -o-transform: rotate(90deg) skew(50deg);
        transform: rotate(90deg) skew(50deg);
        -webkit-animation: open-sol-1 1s 1;
        -moz-animation: open-sol-1 1s 1;
        -ms-animation: open-sol-1 1s 1;
        -o-animation: open-sol-1 1s 1;
        animation: open-sol-1 1s 1;
        background-color: #e30278;
    }
    
    .fans li:nth-child(4) {
        -webkit-transform: rotate(135deg) skew(50deg);
        -moz-transform: rotate(135deg) skew(50deg);
        -ms-transform: rotate(135deg) skew(50deg);
        -o-transform: rotate(135deg) skew(50deg);
        transform: rotate(135deg) skew(50deg);
        -webkit-animation: open-sol-2 1s 1;
        -moz-animation: open-sol-2 1s 1;
        -ms-animation: open-sol-2 1s 1;
        -o-animation: open-sol-2 1s 1;
        animation: open-sol-2 1s 1;
        background-color: #019447;
    }
    
    .fans li:nth-child(5) {
        -webkit-transform: rotate(180deg) skew(50deg);
        -moz-transform: rotate(180deg) skew(50deg);
        -ms-transform: rotate(180deg) skew(50deg);
        -o-transform: rotate(180deg) skew(50deg);
        transform: rotate(180deg) skew(50deg);
        -webkit-animation: open-sol-3 1s 1;
        -moz-animation: open-sol-3 1s 1;
        -ms-animation: open-sol-3 1s 1;
        -o-animation: open-sol-3 1s 1;
        animation: open-sol-3 1s 1;
        background-color: #2e2c7d;
    }
    
    .fans li:nth-child(6) {
        -webkit-transform: rotate(225deg) skew(50deg);
        -moz-transform: rotate(225deg) skew(50deg);
        -ms-transform: rotate(225deg) skew(50deg);
        -o-transform: rotate(225deg) skew(50deg);
        transform: rotate(225deg) skew(50deg);
        -webkit-animation: open-sol-4 1s 1;
        -moz-animation: open-sol-4 1s 1;
        -ms-animation: open-sol-4 1s 1;
        -o-animation: open-sol-4 1s 1;
        animation: open-sol-4 1s 1;
        background-color: #024327;
    }
    
    .fans li:nth-child(7) {
        -webkit-transform: rotate(270deg) skew(50deg);
        -moz-transform: rotate(270deg) skew(50deg);
        -ms-transform: rotate(270deg) skew(50deg);
        -o-transform: rotate(270deg) skew(50deg);
        transform: rotate(270deg) skew(50deg);
        -webkit-animation: open-sombra-5 1s 1;
        -moz-animation: open-sombra-5 1s 1;
        -ms-animation: open-sombra-5 1s 1;
        -o-animation: open-sombra-5 1s 1;
        animation: open-sombra-5 1s 1;
        background-color: #a93b7b;
    }
    
    .fans li:nth-child(8) {
        -webkit-transform: rotate(315deg) skew(50deg);
        -moz-transform: rotate(315deg) skew(50deg);
        -ms-transform: rotate(315deg) skew(50deg);
        -o-transform: rotate(315deg) skew(50deg);
        transform: rotate(315deg) skew(50deg);
        -webkit-animation: open-sombra-6 1s 1;
        -moz-animation: open-sombra-6 1s 1;
        -ms-animation: open-sombra-6 1s 1;
        -o-animation: open-sombra-6 1s 1;
        animation: open-sombra-6 1s 1;
        background-color: #54b34b;
    }
    
    @-webkit-keyframes open-sombra-7 {
        0% {
            -webkit-transform: rotate(70deg) skew(50deg) scale(.1);
            -moz-transform: rotate(70deg) skew(50deg) scale(.1);
            -ms-transform: rotate(70deg) skew(50deg) scale(.1);
            -o-transform: rotate(70deg) skew(50deg) scale(.1);
            transform: rotate(70deg) skew(50deg) scale(.1);
        }
        20% {
            -webkit-transform: rotate(70deg) skew(50deg) scale(1);
            -moz-transform: rotate(70deg) skew(50deg) scale(1);
            -ms-transform: rotate(70deg) skew(50deg) scale(1);
            -o-transform: rotate(70deg) skew(50deg) scale(1);
            transform: rotate(70deg) skew(50deg) scale(1);
        }
        40% {
            -webkit-transform: rotate(70deg) skew(50deg) scale(1);
            -moz-transform: rotate(70deg) skew(50deg) scale(1);
            -ms-transform: rotate(70deg) skew(50deg) scale(1);
            -o-transform: rotate(70deg) skew(50deg) scale(1);
            transform: rotate(70deg) skew(50deg) scale(1);
        }
        100% {
            -webkit-transform: rotate(0deg) skew(50deg);
            -moz-transform: rotate(0deg) skew(50deg);
            -ms-transform: rotate(0deg) skew(50deg);
            -o-transform: rotate(0deg) skew(50deg);
            transform: rotate(0deg) skew(50deg);
        }
    }
    
    @-webkit-keyframes open-sombra-8 {
        0% {
            -webkit-transform: rotate(70deg) skew(50deg) scale(.1);
            -moz-transform: rotate(70deg) skew(50deg) scale(.1);
            -ms-transform: rotate(70deg) skew(50deg) scale(.1);
            -o-transform: rotate(70deg) skew(50deg) scale(.1);
            transform: rotate(70deg) skew(50deg) scale(.1);
        }
        20% {
            -webkit-transform: rotate(70deg) skew(50deg) scale(1);
            -moz-transform: rotate(70deg) skew(50deg) scale(1);
            -ms-transform: rotate(70deg) skew(50deg) scale(1);
            -o-transform: rotate(70deg) skew(50deg) scale(1);
            transform: rotate(70deg) skew(50deg) scale(1);
        }
        40% {
            -webkit-transform: rotate(70deg) skew(50deg) scale(1);
            -moz-transform: rotate(70deg) skew(50deg) scale(1);
            -ms-transform: rotate(70deg) skew(50deg) scale(1);
            -o-transform: rotate(70deg) skew(50deg) scale(1);
            transform: rotate(70deg) skew(50deg) scale(1);
        }
        100% {
            -webkit-transform: rotate(45deg) skew(50deg);
            -moz-transform: rotate(45deg) skew(50deg);
            -ms-transform: rotate(45deg) skew(50deg);
            -o-transform: rotate(45deg) skew(50deg);
            transform: rotate(45deg) skew(50deg);
        }
    }
    
    @-webkit-keyframes open-sol-1 {
        0% {
            -webkit-transform: rotate(70deg) skew(50deg) scale(.1);
            -moz-transform: rotate(70deg) skew(50deg) scale(.1);
            -ms-transform: rotate(70deg) skew(50deg) scale(.1);
            -o-transform: rotate(70deg) skew(50deg) scale(.1);
            transform: rotate(70deg) skew(50deg) scale(.1);
        }
        20% {
            -webkit-transform: rotate(70deg) skew(50deg) scale(1);
            -moz-transform: rotate(70deg) skew(50deg) scale(1);
            -ms-transform: rotate(70deg) skew(50deg) scale(1);
            -o-transform: rotate(70deg) skew(50deg) scale(1);
            transform: rotate(70deg) skew(50deg) scale(1);
        }
        40% {
            -webkit-transform: rotate(70deg) skew(50deg) scale(1);
            -moz-transform: rotate(70deg) skew(50deg) scale(1);
            -ms-transform: rotate(70deg) skew(50deg) scale(1);
            -o-transform: rotate(70deg) skew(50deg) scale(1);
            transform: rotate(70deg) skew(50deg) scale(1);
        }
        100% {
            -webkit-transform: rotate(90deg) skew(50deg);
            -moz-transform: rotate(90deg) skew(50deg);
            -ms-transform: rotate(90deg) skew(50deg);
            -o-transform: rotate(90deg) skew(50deg);
            transform: rotate(90deg) skew(50deg);
        }
    }
    
    @-webkit-keyframes open-sol-2 {
        0% {
            -webkit-transform: rotate(70deg) skew(50deg) scale(.1);
            -moz-transform: rotate(70deg) skew(50deg) scale(.1);
            -ms-transform: rotate(70deg) skew(50deg) scale(.1);
            -o-transform: rotate(70deg) skew(50deg) scale(.1);
            transform: rotate(70deg) skew(50deg) scale(.1);
        }
        20% {
            -webkit-transform: rotate(70deg) skew(50deg) scale(1);
            -moz-transform: rotate(70deg) skew(50deg) scale(1);
            -ms-transform: rotate(70deg) skew(50deg) scale(1);
            -o-transform: rotate(70deg) skew(50deg) scale(1);
            transform: rotate(70deg) skew(50deg) scale(1);
        }
        40% {
            -webkit-transform: rotate(70deg) skew(50deg) scale(1);
            -moz-transform: rotate(70deg) skew(50deg) scale(1);
            -ms-transform: rotate(70deg) skew(50deg) scale(1);
            -o-transform: rotate(70deg) skew(50deg) scale(1);
            transform: rotate(70deg) skew(50deg) scale(1);
        }
        100% {
            -webkit-transform: rotate(135deg) skew(50deg);
            -moz-transform: rotate(135deg) skew(50deg);
            -ms-transform: rotate(135deg) skew(50deg);
            -o-transform: rotate(135deg) skew(50deg);
            transform: rotate(135deg) skew(50deg);
        }
    }
    
    @-webkit-keyframes open-sol-3 {
        0% {
            -webkit-transform: rotate(70deg) skew(50deg) scale(.1);
            -moz-transform: rotate(70deg) skew(50deg) scale(.1);
            -ms-transform: rotate(70deg) skew(50deg) scale(.1);
            -o-transform: rotate(70deg) skew(50deg) scale(.1);
            transform: rotate(70deg) skew(50deg) scale(.1);
        }
        20% {
            -webkit-transform: rotate(70deg) skew(50deg) scale(1);
            -moz-transform: rotate(70deg) skew(50deg) scale(1);
            -ms-transform: rotate(70deg) skew(50deg) scale(1);
            -o-transform: rotate(70deg) skew(50deg) scale(1);
            transform: rotate(70deg) skew(50deg) scale(1);
        }
        40% {
            -webkit-transform: rotate(70deg) skew(50deg) scale(1);
            -moz-transform: rotate(70deg) skew(50deg) scale(1);
            -ms-transform: rotate(70deg) skew(50deg) scale(1);
            -o-transform: rotate(70deg) skew(50deg) scale(1);
            transform: rotate(70deg) skew(50deg) scale(1);
        }
        100% {
            -webkit-transform: rotate(180deg) skew(50deg);
            -moz-transform: rotate(180deg) skew(50deg);
            -ms-transform: rotate(180deg) skew(50deg);
            -o-transform: rotate(180deg) skew(50deg);
            transform: rotate(180deg) skew(50deg);
        }
    }
    
    @-webkit-keyframes open-sol-4 {
        0% {
            -webkit-transform: rotate(70deg) skew(50deg) scale(.1);
            -moz-transform: rotate(70deg) skew(50deg) scale(.1);
            -ms-transform: rotate(70deg) skew(50deg) scale(.1);
            -o-transform: rotate(70deg) skew(50deg) scale(.1);
            transform: rotate(70deg) skew(50deg) scale(.1);
        }
        20% {
            -webkit-transform: rotate(70deg) skew(50deg) scale(1);
            -moz-transform: rotate(70deg) skew(50deg) scale(1);
            -ms-transform: rotate(70deg) skew(50deg) scale(1);
            -o-transform: rotate(70deg) skew(50deg) scale(1);
            transform: rotate(70deg) skew(50deg) scale(1);
        }
        40% {
            -webkit-transform: rotate(70deg) skew(50deg) scale(1);
            -moz-transform: rotate(70deg) skew(50deg) scale(1);
            -ms-transform: rotate(70deg) skew(50deg) scale(1);
            -o-transform: rotate(70deg) skew(50deg) scale(1);
            transform: rotate(70deg) skew(50deg) scale(1);
        }
        100% {
            -webkit-transform: rotate(225deg) skew(50deg);
            -moz-transform: rotate(225deg) skew(50deg);
            -ms-transform: rotate(225deg) skew(50deg);
            -o-transform: rotate(225deg) skew(50deg);
            transform: rotate(225deg) skew(50deg);
        }
    }
    
    @-webkit-keyframes open-sombra-5 {
        0% {
            -webkit-transform: rotate(70deg) skew(50deg) scale(.1);
            -moz-transform: rotate(70deg) skew(50deg) scale(.1);
            -ms-transform: rotate(70deg) skew(50deg) scale(.1);
            -o-transform: rotate(70deg) skew(50deg) scale(.1);
            transform: rotate(70deg) skew(50deg) scale(.1);
        }
        20% {
            -webkit-transform: rotate(70deg) skew(50deg) scale(1);
            -moz-transform: rotate(70deg) skew(50deg) scale(1);
            -ms-transform: rotate(70deg) skew(50deg) scale(1);
            -o-transform: rotate(70deg) skew(50deg) scale(1);
            transform: rotate(70deg) skew(50deg) scale(1);
        }
        40% {
            -webkit-transform: rotate(70deg) skew(50deg) scale(1);
            -moz-transform: rotate(70deg) skew(50deg) scale(1);
            -ms-transform: rotate(70deg) skew(50deg) scale(1);
            -o-transform: rotate(70deg) skew(50deg) scale(1);
            transform: rotate(70deg) skew(50deg) scale(1);
        }
        100% {
            -webkit-transform: rotate(-90deg) skew(50deg);
            -moz-transform: rotate(-90deg) skew(50deg);
            -ms-transform: rotate(-90deg) skew(50deg);
            -o-transform: rotate(-90deg) skew(50deg);
            transform: rotate(-90deg) skew(50deg);
        }
    }
    
    @-webkit-keyframes open-sombra-6 {
        0% {
            -webkit-transform: rotate(70deg) skew(50deg) scale(.1);
            -moz-transform: rotate(70deg) skew(50deg) scale(.1);
            -ms-transform: rotate(70deg) skew(50deg) scale(.1);
            -o-transform: rotate(70deg) skew(50deg) scale(.1);
            transform: rotate(70deg) skew(50deg) scale(.1);
        }
        20% {
            -webkit-transform: rotate(70deg) skew(50deg) scale(1);
            -moz-transform: rotate(70deg) skew(50deg) scale(1);
            -ms-transform: rotate(70deg) skew(50deg) scale(1);
            -o-transform: rotate(70deg) skew(50deg) scale(1);
            transform: rotate(70deg) skew(50deg) scale(1);
        }
        40% {
            -webkit-transform: rotate(70deg) skew(50deg) scale(1);
            -moz-transform: rotate(70deg) skew(50deg) scale(1);
            -ms-transform: rotate(70deg) skew(50deg) scale(1);
            -o-transform: rotate(70deg) skew(50deg) scale(1);
            transform: rotate(70deg) skew(50deg) scale(1);
        }
        100% {
            -webkit-transform: rotate(-45deg) skew(50deg);
            -moz-transform: rotate(-45deg) skew(50deg);
            -ms-transform: rotate(-45deg) skew(50deg);
            -o-transform: rotate(-45deg) skew(50deg);
            transform: rotate(-45deg) skew(50deg);
        }
    }
    /***CSS扇形导航***/
    /***仿iPhone开关***/
    
    .onoffswitch {
        position: relative;
        top: 10%;
        left: 32%;
        width: 90px;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        -o-user-select: none;
        user-select: none;
        -webkit-filter: drop-shadow(2px 2px 3px #333);
        -moz-filter: drop-shadow(2px 2px 3px #333);
        -ms-filter: drop-shadow(2px 2px 3px #333);
        -o-filter: drop-shadow(2px 2px 3px #333);
        filter: drop-shadow(2px 2px 3px #333);
    }
    
    .onoffswitch-checkbox {
        display: none;
    }
    
    .onoffswitch-label {
        display: block;
        overflow: hidden;
        cursor: pointer;
        border: 2px solid #999;
        border-radius: 20px;
    }
    
    .onoffswitch-inner {
        display: block;
        width: 200%;
        margin-left: -100%;
        -webkit-transition: margin .3s ease-in 0s;
        transition: margin .3s ease-in 0s;
    }
    
    .onoffswitch-inner:before,
    .onoffswitch-inner:after {
        font-family: Trebuchet, Arial, sans-serif;
        font-size: 14px;
        font-weight: bold;
        line-height: 30px;
        display: block;
        float: left;
        -webkit-box-sizing: border-box;
        box-sizing: border-box;
        width: 50%;
        height: 30px;
        padding: 0;
        color: white;
    }
    
    .onoffswitch-inner:before {
        padding-left: 10px;
        content: '开';
        color: #fff;
        background-color: #34a7c1;
    }
    
    .onoffswitch-inner:after {
        padding-right: 10px;
        content: '关';
        text-align: right;
        color: #999;
        background-color: #eee;
    }
    
    .onoffswitch-switch {
        position: absolute;
        top: 0;
        right: 56px;
        bottom: 0;
        display: block;
        width: 18px;
        margin: 6px;
        -webkit-transition: all .3s ease-in 0s;
        transition: all .3s ease-in 0s;
        border: 2px solid #999;
        border-radius: 20px;
        background: #fff;
    }
    
    .onoffswitch-checkbox:checked + .onoffswitch-label .onoffswitch-inner {
        margin-left: 0;
    }
    
    .onoffswitch-checkbox:checked + .onoffswitch-label .onoffswitch-switch {
        right: 0;
    }
    
    @media only screen and (max-width: 550px) {
        .onoffswitch {
            position: relative;
            top: 10%;
            left: 26%;
            width: 18vw;
        }
        .onoffswitch-inner:before,
        .onoffswitch-inner:after {
            line-height: 6vw;
            height: 6vw;
        }
        .onoffswitch-inner:before {
            padding-left: 2vw;
        }
        .onoffswitch-inner:after {
            padding-right: 2vw;
        }
        .onoffswitch-switch {
            right: 11.2vw;
            width: 3.6vw;
            margin: 1.2vw;
        }
    }
    /***仿iPhone开关***/
    </style>
</head>

<body>
    <div class="container" id="container">
        <div class="row">
            <div class="col-xs-12 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3">
                <div class="main">
                    <div id="ctrl" class="ctrl">
                        <div class="onoffswitch">
                            <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="myonoffswitch">
                            <label class="onoffswitch-label" for="myonoffswitch">
                                <span class="onoffswitch-inner"></span>
                                <span class="onoffswitch-switch"></span>
                            </label>
                        </div>
                        <div class="screen" id="screen">
                            <span class="msgBox" id="msgBox">当前为"自由模式"
                            </span>
                            <p class="showGameLvl">当前关卡:
                                <span id="getGameLvl">1</span>
                            </p>
                            <p class="showBtnTip">
                                您可点击上方"开关"
                                <br>↑开启记忆模式↑
                            </p>
                        </div>
                    </div>
                    <ul id="fans" class="fans">
                        <li id="item0"><span>0</span></li>
                        <li id="item1"><span>1</span></li>
                        <li id="item2"><span>2</span></li>
                        <li id="item3"><span>3</span></li>
                        <li id="item4"><span>4</span></li>
                        <li id="item5"><span>5</span></li>
                        <li id="item6"><span>6</span></li>
                        <li id="item7"><span>7</span></li>
                    </ul>
                </div>
                <div class="iptPannel">
                    <input type="text" name="ipt" class="ipt" id="ipt" placeholder=" 请输入0到7之间的任意数字组合 ">
                    <br>
                    <button class="iptBtn btn-primary" id="iptPlay">演奏</button>
                    <button class="iptBtn btn-primary" id="iptClear">清空</button>
                </div>
                <p class="footer">
                    <a target="_blank" href="https://www.mike652638.com/simon-game-code">欢迎访问"我的网站"查看本游戏源代码</a>
                </p>
                <p class="dvcTip">
                    <span id="clsTip">☒</span>我们检测到您正在使用的设备是&nbsp;<span id="userDvc"></span>, 受限于浏览器的运算及渲染速度, 本游戏部分操作可能会存在明显延迟, 您可用电脑访问以获得最佳体验
                </p>
            </div>
        </div>
    </div>
    <div class="tipsForIE9" id="tipsForIE9">
        <p>抱歉, 我们检测到您的浏览器内核版本可能低于IE9, 本页面无法正常显示。
        </p>
        <p>为了更好的上网体验, 我们强烈建议您升级浏览器
        </p>
        <p>谷歌Chrome浏览器:
            <a target='_blank' href='https://www.google.com/chrome/browser/desktop/index.html'>下载地址</a>
        </p>
        <p>火狐Firefox浏览器:
            <a target='_blank' href='http://www.firefox.com.cn/?utm_medium=referral&utm_source=mozilla.org'>下载地址</a>
        </p>
    </div>
    <div class="pianoSnd" id="pianoSnd">
        <audio id="aud0" controls preload="auto">
            <source src="snd/0.mp3" type="audio/mpeg">
        </audio>
        <audio id="aud1" controls preload="auto">
            <source src="snd/1.mp3" type="audio/mpeg">
        </audio>
        <audio id="aud2" controls preload="auto">
            <source src="snd/2.mp3" type="audio/mpeg">
        </audio>
        <audio id="aud3" controls preload="auto">
            <source src="snd/3.mp3" type="audio/mpeg">
        </audio>
        <audio id="aud4" controls preload="auto">
            <source src="snd/4.mp3" type="audio/mpeg">
        </audio>
        <audio id="aud5" controls preload="auto">
            <source src="snd/5.mp3" type="audio/mpeg">
        </audio>
        <audio id="aud6" controls preload="auto">
            <source src="snd/6.mp3" type="audio/mpeg">
        </audio>
        <audio id="aud7" controls preload="auto">
            <source src="snd/7.mp3" type="audio/mpeg">
        </audio>
    </div>
    <script type="text/javascript">
    /**开头声明所有变量**/
    var rangeArr = [0, 1, 2, 3, 4, 5, 6, 7], //对应八种钢琴音
        randomArr = [], //八种钢琴音的随机组合及顺序
        sndArr; //八种钢琴音加载SRC的随机组合及顺序
    var gameLvl = 1, //游戏第几关, 对应钢琴音播放的次数
        bkGameLvl = 1, //在gameLvl递减前保存其值, 重玩游戏时回到原关
        pt = -1, //playSnd函数中播放次数(playTime)累加的参数
        num, //playSnd函数中对应randomArr的序号
        liEle, //playSnd函数中对应扇形的li元素
        //滑过或点击之前扇形区的背景颜色, 方便恢复
        drkBgClrArr = ["#1387CE", "#418576", "#E30278", "#019447", "#2E2C7D", "#024327", "#A93B7B", "#54B34B"];
    var checkStus, //"自由模式"和"记忆模式"状态切换
        rightClk = 0, //"记忆模式"中鼠标正确点击的次数
        //"记忆模式"中鼠标点击的结果, 默认为"非错误", 记为"错误"后randomArr保持上一次的不变
        memoClkResult = "notWrong";
    var timer1, //记忆模式下定时(setTimeout)依次执行的事件
        timer2,
        timer3,
        timer4,
        timer5,
        timer6,
        timer7,
        timer8,
        timer9,
        timer10,
        timer11,
        timer12;
    var kyDnCode, //自由模式下绑定键盘keydown事件得到的keyCode
        kyDnNum, //自由模式下绑定键盘keydown事件得到的扇形区域
        userDvc; //识别用户访问该网页时所用的设备

    //在页面首次打开时即执行一次
    window.onload = function() {
        checkBrowser();
        ajustHeight();
        ctrlEaseIn();
        hoverPlaySnd();
    };

    function checkBrowser() {
        //识别用户访问该网页时所用的设备是否为手机或平板
        var userAgentInfo = navigator.userAgent;
        var Agents = ["Android", "iPhone", "iPad"];
        var devices = ["安卓手机", "苹果手机", "iPad平板"];
        for (var v = 0; v < Agents.length; v++) {
            if (userAgentInfo.indexOf(Agents[v]) > 0) {
                userDvc = devices[v];
            }
        }
        if (userDvc) {
            $(".dvcTip").css({
                "display": "block"
            });
            $("#userDvc").html(userDvc);
            $("#clsTip").click(function() {
                $(".dvcTip").css("display", "none");
            });
        }

        //判断用户浏览器内核版本是否低于IE9, 参考
        //http://stackoverflow.com/questions/5574842/
        //best-way-to-check-for-ie-less-than-9-in-javascript-without-library
        if (document.addEventListener) {
            return;
        } else {
            document.getElementById("container").style.display = "none";
            document.getElementById("tipsForIE9").style.display = "block";
            //$(".container").css("display", "none");
            //$(".tipsForIE9").css("display", "block");
        }
    }

    //监听浏览器窗口窗口大小变化，窗口宽度变化时单元格高度也跟着变化
    window.onresize = function() {
        ajustHeight();
    };

    //应用Bootstrap响应式布局(宽度自适应)的同时，规定高度等于宽度
    function ajustHeight() {
        $(".main").css("height", $(".main").css("width"));
        $(".ctrl").css("height", $(".ctrl").css("width"));
        $("#fans li").css("height", $("#fans li").css("width"));
        $("#screen").css("fontSize", parseInt($(".ctrl").css("width")) * 0.1);
    }

    function ctrlEaseIn() {
        setTimeout(function() {
            $("#ctrl").animate({
                opacity: 1
            }, 2000);
        }, 1000);
    }

    //鼠标滑过或点击时播放特定音效且背景高亮
    function fansEnter() {
        $("#pianoSnd audio")[num].play();
        liEle.css({
            "color": "#000",
            "backgroundColor": "#FDF76B",
            "box-shadow": "5px 10px 20px #48e0d3"
        });
        setTimeout(bkToNormal, 1000);
    }

    //鼠标滑出或结束点击后音效停止且背景颜色恢复
    function bkToNormal() {
        for (var i in drkBgClrArr) {
            $("#item" + i).css("backgroundColor", drkBgClrArr[i]);
        }
        $("#fans li").css({
            "color": "#fff",
            "box-shadow": "0 0 0 #000"
        });

        if ($("#pianoSnd audio")[num]) {
            $("#pianoSnd audio")[num].pause();
        }
    }

    //鼠标滑过任意扇形区时播放相应音效及颜色变化
    function hoverPlaySnd() {
        $("#fans li").mouseenter(function() {
            //在第二次鼠标滑过时先立即停止上一次的音效播放和背景高亮, 改善延迟
            if (num) {
                bkToNormal();
            }
            //在第二次鼠标滑过时先立即停止上一次的音效播放和背景高亮, 改善延迟
            num = $(this).index();
            liEle = $(this);
        });

        $("#fans li").on("mouseenter.Hack", fansEnter);
        $("#fans li").on("mouseleave.Hack", bkToNormal);

    }

    function getRandomArr() {
        //根据当前关卡数生成相应数量的随机数组(0~7)
        bkGameLvl = gameLvl;
        //randomArr = [];
        if (memoClkResult !== "Wrong") {
            for (gameLvl; gameLvl > 0; gameLvl--) {
                var randomNum = Math.floor(8 * Math.random());
                randomArr.push(rangeArr[randomNum]);
            }
        } else {
            memoClkResult = "notWrong";
        }
        console.trace("getRandomArr randomArr = " + randomArr);
    }

    function getSndArr() {
        sndArr = [];
        //将上方随机数组应用到audio src, 分别构造随机播放的音效序列
        for (var k = 0, arrLen = randomArr.length; k < arrLen; k++) {
            sndArr.push(new Audio("snd/" + randomArr[k] + ".mp3"));
        }
    }

    function sndQueue() {
        pt++;
        num = randomArr[pt];
        if (pt < sndArr.length) {
            sndArr[pt].addEventListener('ended', sndQueue);
            sndArr[pt].play();
            colorChg();
            console.trace(num);
        } else {
            pt = -1;
            return;
        }
    }

    //播放音效时相应扇形区高亮, 1秒后恢复, 供playSnd调用
    function colorChg() {
        liEle = $("#fans").children().eq(num);
        liEle.css({
            "color": "#000",
            "backgroundColor": "#FDF76B",
            "box-shadow": "5px 10px 20px #48e0d3"
        });
        setTimeout(bkToNormal, 1000);
    }

    function playSnd() {
        getRandomArr();
        getSndArr();
        sndQueue();
    }

    $(document).ready(function() {
        checkStus = $("#myonoffswitch")[0].checked;

        $("#iptPlay").click(function() {
            var iptStr = $("#ipt").val();
            var iptArr = iptStr.split("");
            for (var k in iptArr) {
                var x = iptArr[k] - 0;
                if (isNaN(x) || x > 7 || iptArr[k] === " ") {
                    iptArr[k] = Math.floor(8 * Math.random());
                }
            }
            $("#ipt").val(iptArr.join(""));
            randomArr = iptArr;
            getSndArr();
            sndQueue();
        });

        $("#iptClear").click(function() {
            $("#ipt").val("");
        });

        $("#myonoffswitch").click(function() {
            if (checkStus === true) {
                checkStus = false;
                $("#msgBox").css("color", "#33C5C5");
                $("#fans li").on("mouseenter.Hack", fansEnter);
                $("#fans li").on("mouseleave.Hack", bkToNormal);
                $("body").on("keydown.snd", keydownFuncs);
                $(".iptPannel").css("display", "block");
                $(".showGameLvl").css("display", "none");
                $("#fans li").off("click.memoCheck");
                randomArr = [];
                endTimeoutFuncs();
                $("#msgBox").css({
                    "fontSize": parseInt($(".ctrl").css("width")) * 0.1,
                    "marginTop": "0"
                });
                $("#msgBox").text('当前为"自由模式"');
            } else if (checkStus === false) {
                checkStus = true;
                $("#msgBox").text('已开启"记忆模式"');
                $("#msgBox").css("color", "#D9534F");
                $(".iptPannel").css("display", "none");
                $(".showBtnTip").css("display", "none");
                $(".showGameLvl").css("display", "block");
                $("#fans li").off("mouseenter.Hack");
                $("#fans li").off("mouseleave.Hack");
                $("body").off("keydown.snd", keydownFuncs);
                gameLvl = bkGameLvl;
                memoGame();
            }
        });

        function memoGameTips() {
            timer1 = setTimeout(function() {
                $("#msgBox").text('请记住音符出现顺序');
            }, 2000);
            if (gameLvl === 1) {
                timer2 = setTimeout(function() {
                    $("#msgBox").text('准备好了么?');
                }, 3000);
                timer3 = setTimeout(function() {
                    $("#msgBox").text('3');
                    $("#msgBox").animate({
                        "fontSize": parseInt($(".ctrl").css("width")) * 0.2,
                        "marginTop": "-10%"
                    }, 1000);
                }, 4000);
                timer4 = setTimeout(function() {
                    $("#msgBox").text('2');
                }, 5000);
                timer5 = setTimeout(function() {
                    $("#msgBox").text('1');
                }, 6000);
                timer6 = setTimeout(function() {
                    $("#msgBox").text('开始 !');
                    $("#msgBox").animate({
                        "fontSize": parseInt($(".ctrl").css("width")) * 0.1,
                        "marginTop": "0"
                    }, 2000);
                }, 7000);
            }
        }

        function memoGame() {
            memoGameTips();
            if (gameLvl === 1) {
                timer7 = setTimeout(playSnd, 9000);
                timer8 = setTimeout(function() {
                    $("#msgBox").text('请重复音符顺序');
                }, 10000);
                timer9 = setTimeout(memoCheck, 10000);
            } else {
                timer10 = setTimeout(playSnd, 3000);
                timer11 = setTimeout(function() {
                    $("#msgBox").text('请重复音符顺序');
                }, (1800 * gameLvl + 3000));
                timer12 = setTimeout(memoCheck, (1800 * gameLvl));
            }
        }

        function memoCheck() {
            $("#fans li").on("click.memoCheck", memoCheckClk);
        }

        function memoCheckClk() {
            //在第二次鼠标滑过时先立即停止上一次的音效播放和背景高亮, 改善延迟
            if (num !== undefined) {
                bkToNormal();
            }
            //在第二次鼠标滑过时先立即停止上一次的音效播放和背景高亮, 改善延迟
            num = $(this).index();
            console.trace("memoCheckClk num = " + num);
            liEle = $(this);
            fansEnter();

            if (num === randomArr[rightClk]) {
                rightClk += 1;
            } else {
                setTimeout(function() {
                    $("#msgBox").text('顺序不对, 再来一遍');
                }, 1000);
                $("#fans li").off("click.memoCheck");
                memoClkResult = "Wrong";
                rightClk = 0;
                gameLvl = bkGameLvl;
                memoGame();
            }
            console.log("rightClk = " + rightClk + " randomArr.length = " + randomArr.length);
            if (rightClk > 0 && rightClk === randomArr.length) {
                setTimeout(function() {
                    $("#msgBox").text('顺序正确, 进入下一关');
                }, 1000);
                $("#fans li").off("click.memoCheck");
                randomArr = [];
                rightClk = 0;
                gameLvl = bkGameLvl;
                gameLvl++;
                bkGameLvl = gameLvl;
                setTimeout(function() {
                    $("#getGameLvl").text(gameLvl);
                }, 2000);
                memoGame();
            }
        }

        function endTimeoutFuncs() {
            //typeof(timer1)="number", 故无法用for循环
            window.clearTimeout(timer1);
            window.clearTimeout(timer2);
            window.clearTimeout(timer3);
            window.clearTimeout(timer4);
            window.clearTimeout(timer5);
            window.clearTimeout(timer6);
            window.clearTimeout(timer7);
            window.clearTimeout(timer8);
            window.clearTimeout(timer9);
            window.clearTimeout(timer10);
            window.clearTimeout(timer11);
            window.clearTimeout(timer12);
        }

        function keydownFuncs(event) {
            if (kyDnNum) {
                bkToNormal();
            }
            kyDnCode = event.keyCode;
            if (kyDnCode >= 48 && kyDnCode <= 55) {
                kyDnNum = String.fromCharCode(kyDnCode) - 0;
            } else if (kyDnCode >= 65 && kyDnCode <= 72) {
                kyDnNum = String.fromCharCode(kyDnCode - 17) - 0;
            } else if (kyDnCode >= 73 && kyDnCode <= 80) {
                kyDnNum = String.fromCharCode(kyDnCode - 25) - 0;
            } else if (kyDnCode >= 81 && kyDnCode <= 88) {
                kyDnNum = String.fromCharCode(kyDnCode - 33) - 0;
            } else if (kyDnCode >= 89 && kyDnCode <= 90) {
                kyDnNum = String.fromCharCode(kyDnCode - 41) - 0;
            } else if (kyDnCode >= 96 && kyDnCode <= 103) {
                kyDnNum = String.fromCharCode(kyDnCode - 48) - 0;
            } else if (kyDnCode >= 104 && kyDnCode <= 105) {
                kyDnNum = String.fromCharCode(kyDnCode - 56) - 0;
            }
            if (kyDnNum) {
                $("#pianoSnd audio")[kyDnNum].play();
                liEle = $("#item" + kyDnNum);
                liEle.css("color", "#000");
                liEle.css("backgroundColor", "#FDF76B");
                liEle.css("box-shadow", "5px 10px 20px #48e0d3");
                setTimeout(bkToNormal, 1000);
            }

            //空格键全响全亮
            if (kyDnCode === 32) {
                for (var m = 0; m < 8; m++) {
                    $("#pianoSnd audio")[m].play();
                    $("#item" + m).css("color", "#000");
                    $("#item" + m).css("backgroundColor", "#FDF76B");
                    $("#item" + m).css("box-shadow", "5px 10px 20px #48e0d3");
                }
                setTimeout(bkToNormal, 1000);
            }
        }
        $("body").on("keydown.snd", keydownFuncs);
    });
    </script>
</body>

</html>
